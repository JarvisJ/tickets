<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head><title>Tickets!</title></head>

<script src="d3.js" type="text/javascript" ></script>
<style>

.background {
  fill: none;
  pointer-events: all;
}

#states {
  fill: #aaa;
  stroke: none;
  stroke-width: 0px;
}

/*#states path:hover {
  fill: #aaa;
  stroke: none;
  stroke-width: 0px;
}*/


#counties path {
  stroke: #000;
  fill: transparent;
}

#townships path {
  stroke: #000;
  fill: transparent;
}

</style>
<body>
<h2><span>Year over Year % Change</span>-- Dealer Purchases (yellow ~100%, green >100%, red <100%)</h2>
<div id="hoverDiv" style="width:400px;height:650px;overflow:auto;border-style:solid;border-width:1px;display:none" ></div>
<div id="zipHoverDiv" style="border-style:solid;border-width:1px;display:none" ></div>
<table>
    <tr>
        <td>Select a measurement</td>
        <td><select  id="measurementPulldown" ></select> </td>
        <td><a  id="showCustomers" >Show Customers</a></td>
        <td><a  id="hideCustomers" >Hide Customers</a></td>
        <td><a id="cartwright"  >Only Jerry Cartwright</a></td>
        <td><a id="onlyReg2"  >Only Region 02</a></td>   
        <td><a id="fullZoomOut"  >&nbsp;&nbsp;Full Zoom Out</a></td>        
    </tr>
    <tr>
        <td>Show Townships and Cities<input type="radio" name="map" checked id="radioTownships" value="Townships and Cities" onclick="radioSelect();" /></td>
        <td>Show Zip Codes<input type="radio" name="map" id="radioZips" value="Zip Codes" onclick="radioSelect();" />    </td>
    </tr>
</table>
<script type="text/javascript" >

var width = 960,
    height = 500,
    centered;

var arenaArray = [];
var arenaData;


var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("id","mainSVG");

svg.append("rect")
    .attr("class", "background")
    .attr("width", width)
    .attr("height", height);    

var arena = svg.append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
  .append("g")
    .attr("id", "states");

    ;

     
var circles = svg.append("svg:g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
  .append("g")
    .attr("id", "circles");


var measurementPulldown = d3.select("#measurementPulldown")     
 
 d3.json("concesco.json",
    function(json) {
        arenaData = json;
        
        for( var key in arenaData ) {
        	  arenaData[key].secID = key;
        	  arenaArray.push(arenaData[key]); 
        }
        
        
          arena.selectAll("path")
              .data(arenaArray)
            .enter().append("path")
            .attr("d", function(d) { 
            			return d.p;
            })
             // .on("click", click)
              .on("mouseover", function(d){
              
              d3.selectAll("[chv^='chv_"+d.region.substring(4,6)+"_']").attr("class",getCountyDistrictColor);
              })  
              .on("mouseout",function(d){
                d3.selectAll("[chv^='chv_"+d.region.substring(4,6)+"_']").attr("class",getCountyColor);
                })     
});  
 
      
</script>
</body>
</html>